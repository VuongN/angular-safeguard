{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5d107477609b90ffc11c","webpack:///./src/Locker.ts","webpack:///./src/helpers.ts","webpack:///./src/Driver.ts","webpack:///./src/Locker.module.ts","webpack:///./src/DriverTypes.ts","webpack:///./src/PolyfillDriver.ts","webpack:///external \"@angular/core\"","webpack:///./src/Cookie.ts","webpack:///./src/CookieStorage.ts","webpack:///./src/MemoryStorage.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"locker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-safeguard\"] = factory(require(\"@angular/core\"));\n\telse\n\t\troot[\"angular-safeguard\"] = factory(root[\"@angular/core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5d107477609b90ffc11c","import {Injectable, Inject, OpaqueToken} from '@angular/core'\r\n\r\nimport {IStorageSetConfig} from './IStorage'\r\nimport {Driver} from './Driver'\r\nimport {PollyfillDriver} from './PolyfillDriver'\r\nimport {DRIVERS} from './DriverTypes'\r\n\r\nimport {isNil} from './helpers'\r\n\r\nexport const LOCKER_USER_CONFIG = new OpaqueToken('LOCKER_USER_CONFIG')\r\n\r\nexport const LOCKER_DEFAULT_CONFIG_PROVIDER = {\r\n  provide: LOCKER_USER_CONFIG,\r\n  useValue: {\r\n    namespaceSeparator: ':',\r\n    defaultDriverType: DRIVERS.SESSION,\r\n    driverNamespace: ''\r\n  }\r\n}\r\n\r\nexport interface ILockerConfig {\r\n  driverNamespace?: string\r\n  defaultDriverType?: Driver|Driver[]\r\n  namespaceSeparator?: string\r\n}\r\n\r\n@Injectable()\r\nexport class LockerConfig {\r\n  public driverNamespace: string\r\n  public defaultDriverType: Driver|Driver[]\r\n  public namespaceSeparator: string\r\n\r\n  constructor(@Inject(LOCKER_USER_CONFIG) config: ILockerConfig) {\r\n    this.driverNamespace = isNil(config.driverNamespace) ? '' : config.driverNamespace\r\n    this.defaultDriverType = isNil(config.defaultDriverType) ? DRIVERS.SESSION : config.defaultDriverType\r\n    this.namespaceSeparator = isNil(config.namespaceSeparator) ? ':' : config.namespaceSeparator\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class Locker {\r\n  public static DRIVERS = DRIVERS\r\n\r\n  private driver: Driver\r\n  private namespace: string\r\n  private separator: string\r\n\r\n  constructor(public lockerConfig: LockerConfig) {\r\n    const {defaultDriverType} = lockerConfig\r\n\r\n    this.setNamespace()\r\n    this.setSeparator()\r\n\r\n    this.driver = this._determineDriver(defaultDriverType)\r\n  }\r\n\r\n  public setNamespace(namespace: string = this.lockerConfig.driverNamespace) {\r\n    this.namespace = namespace\r\n  }\r\n\r\n  public setSeparator(separator: string = this.lockerConfig.namespaceSeparator) {\r\n    this.separator = separator\r\n  }\r\n\r\n  public useDriver(driver: Driver|Driver[]) {\r\n    return new Locker({\r\n      defaultDriverType: this._determineDriver(driver),\r\n      driverNamespace: this.namespace,\r\n      namespaceSeparator: this.separator\r\n    })\r\n  }\r\n\r\n  public set(key, data, config?: IStorageSetConfig) {\r\n    this.driver.set(this._makeKey(key), data, config)\r\n  }\r\n\r\n  public get(key) {\r\n    return this.driver.get(this._makeKey(key))\r\n  }\r\n\r\n  public has(key) {\r\n    return this.driver.has(this._makeKey(key))\r\n  }\r\n\r\n  public remove(key) {\r\n    this.driver.remove(this._makeKey(key))\r\n  }\r\n\r\n\r\n  public key(index?) {\r\n    return this._decodeKey(this.driver.key(index))\r\n  }\r\n\r\n  public clear() {\r\n    this.driver.clear()\r\n  }\r\n\r\n  private _makeKey(key: string): string {\r\n    return this.namespace ? `${this.namespace}${this.separator}${key}` : key\r\n  }\r\n\r\n  private _decodeKey(key: string): string {\r\n    if (this.namespace)\r\n      return key.slice(this.namespace.length + this.separator.length)\r\n    else\r\n      return key\r\n  }\r\n\r\n  private _determineDriver(preferredDrivers: Driver|Driver[]): Driver {\r\n    if (Array.isArray(preferredDrivers))\r\n      return preferredDrivers\r\n        .find(driver => driver.isSupported()) || DRIVERS.MEMORY\r\n\r\n    else if (preferredDrivers)\r\n      return preferredDrivers.isSupported() ? preferredDrivers : DRIVERS.MEMORY\r\n\r\n    else\r\n      return DRIVERS.MEMORY\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.ts","import {IStorageSetConfig} from './IStorage'\r\n\r\nexport interface ExpiryData {\r\n  config?: IStorageSetConfig\r\n  data: any\r\n}\r\n\r\n// Convenience\r\nexport const encode = encodeURIComponent\r\nexport const decode = decodeURIComponent\r\n\r\nexport const COOKIE_SEP = '; '\r\nexport const isInPast = (date: Date) => date <= new Date()\r\nexport const isString = (str: string|Date): boolean => typeof str === 'string'\r\nexport const toString = (obj: any): string => typeof obj.toUTCString === 'function' ? obj.toUTCString() : obj.toString()\r\nexport const isNil = (item: any) => item === undefined || item === null\r\nexport const isNumber = (item: any) => typeof item === 'number'\r\n\r\nexport const isExpired = (data: ExpiryData): boolean => {\r\n  if (!data.config)\r\n    return false\r\n\r\n  const {expires} = data.config\r\n\r\n  if (!expires)\r\n    return false\r\n\r\n\r\n  return isInPast(expires instanceof Date ? expires : new Date(expires))\r\n}\r\n\r\nexport const is = (ctor, value) => value &&\r\n                                   value.constructor === ctor ||\r\n                                   value instanceof ctor\r\n\r\nexport const convertFromJSON = function(data: any) {\r\n  if (typeof data !== 'string') {\r\n    return data\r\n  } else {\r\n    try {\r\n      return JSON.parse(data)\r\n    } catch (e) {\r\n      return data\r\n    }\r\n  }\r\n}\r\n\r\nexport const serializeDataToString = (data: any): string => typeof data === 'object' ? JSON.stringify(data) : data.toString()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.ts","declare const __DEV__: boolean, __TEST__: boolean\r\n\r\nimport {IStorage, IStorageSetConfig} from './IStorage'\r\nimport {convertFromJSON, serializeDataToString} from './helpers'\r\n\r\nconst LOCKER_TEST_KEY = 'LOCKER_TEST_KEY'\r\n\r\nexport class Driver {\r\n  constructor(public storage: IStorage) {}\r\n\r\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\r\n    this.storage.setItem(key, serializeDataToString(data), config)\r\n  }\r\n\r\n  public get(key: string): any {\r\n    return convertFromJSON(this.storage.getItem(key))\r\n  }\r\n\r\n  public has(key: string): boolean {\r\n    return this.storage.hasOwnProperty(key)\r\n  }\r\n\r\n  public remove(key: string): void {\r\n    this.storage.removeItem(key)\r\n  }\r\n\r\n  public clear(): void {\r\n    this.storage.clear()\r\n  }\r\n\r\n  public key(index = 0): string {\r\n    return this.storage.key(index)\r\n  }\r\n\r\n  public isSupported(): boolean {\r\n    try {\r\n      this.storage.setItem(LOCKER_TEST_KEY, LOCKER_TEST_KEY)\r\n      this.storage.getItem(LOCKER_TEST_KEY)\r\n      this.storage.removeItem(LOCKER_TEST_KEY)\r\n    } catch (e) {\r\n      if (__DEV__ || __TEST__)\r\n        console.error(e)\r\n\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Driver.ts","import {NgModule, ModuleWithProviders} from '@angular/core'\r\n\r\nimport {Locker, LockerConfig, LOCKER_DEFAULT_CONFIG_PROVIDER, LOCKER_USER_CONFIG, ILockerConfig} from './Locker'\r\n\r\n@NgModule({\r\n  providers: [\r\n    Locker,\r\n    LockerConfig,\r\n    LOCKER_DEFAULT_CONFIG_PROVIDER\r\n  ]\r\n})\r\nexport class LockerModule {\r\n  public static withConfig(userConfig: ILockerConfig): ModuleWithProviders {\r\n    const config = {\r\n      provide: LOCKER_USER_CONFIG,\r\n      useValue: userConfig\r\n    }\r\n\r\n    return {\r\n      ngModule: LockerModule,\r\n      providers: [Locker, LockerConfig, config]\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.module.ts","import {PollyfillDriver} from './PolyfillDriver'\r\nimport {Driver} from './Driver'\r\nimport {MemoryStorage} from './MemoryStorage'\r\nimport {CookieStorage} from './CookieStorage'\r\n\r\nexport const DRIVERS = {\r\n  LOCAL: new PollyfillDriver(localStorage),\r\n  SESSION: new PollyfillDriver(sessionStorage),\r\n  MEMORY: new PollyfillDriver(new MemoryStorage()),\r\n  COOKIE: new Driver(new CookieStorage())\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/DriverTypes.ts","import {Driver} from './Driver'\r\nimport {serializeDataToString, convertFromJSON, isExpired} from './helpers'\r\nimport {IStorageSetConfig} from './IStorage'\r\n\r\n// This driver is a special driver to handle expiry and other options (similar to cookies)\r\nexport class PollyfillDriver extends Driver {\r\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\r\n    this.storage.setItem(key, serializeDataToString({data, config}))\r\n  }\r\n\r\n  public get(key: string): any {\r\n    this._checkExpiry(key)\r\n\r\n    const data = convertFromJSON(this.storage.getItem(key))\r\n\r\n    return (data && Reflect.has(data, 'data')) ? data.data : data\r\n  }\r\n\r\n  public has(key: string): boolean {\r\n    this._checkExpiry(key)\r\n\r\n    return this.storage.hasOwnProperty(key)\r\n  }\r\n\r\n  public key(index = 0): string {\r\n    const key = this.storage.key(index)\r\n\r\n    this._checkExpiry(key)\r\n\r\n    return this.storage.key(index)\r\n  }\r\n\r\n  private _checkExpiry(key) {\r\n    const data = convertFromJSON(this.storage.getItem(key))\r\n\r\n    if (data && isExpired(data))\r\n      this.remove(key)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/PolyfillDriver.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 6\n// module chunks = 0","import {IStorageSetConfig} from './IStorage'\r\nimport {COOKIE_SEP, encode, decode, toString, isString, isNumber} from './helpers'\r\n\r\nconst DEFAULT_CONFIG: IStorageSetConfig = {}\r\n\r\nexport class Cookie {\r\n  public static getAll(): Object {\r\n    return document.cookie\r\n      .split(COOKIE_SEP)\r\n      .filter(value => !!value)\r\n      .map(items => items.split('='))\r\n      .reduce((res, [key, value]) => (res[decode(key)] = decode(value), res), {})\r\n  }\r\n\r\n  public static get(key): any {\r\n    return this.getAll()[key]\r\n  }\r\n\r\n  public static set(key, value, config = DEFAULT_CONFIG): void {\r\n    const {secure, maxAge, domain, path, expires} = config\r\n\r\n    var cookie = `${encode(key)}=${encode(value)}`\r\n\r\n    if (secure)\r\n      cookie += ';secure'\r\n\r\n    if (isNumber(maxAge) && !isNaN(maxAge))\r\n      cookie += `;max-age=${maxAge}`\r\n\r\n    if (domain)\r\n      cookie += `;domain=${domain}`\r\n\r\n    if (path)\r\n      cookie += `;path=${path}`\r\n\r\n    if (expires)\r\n      cookie += `;expires=${isString(expires) ? expires : toString(expires)}`\r\n\r\n    document.cookie = cookie\r\n  }\r\n\r\n  public static remove(key) {\r\n    this.set(key, this.get(key), {maxAge: 0})\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Cookie.ts","import {IStorage} from './IStorage'\r\nimport {Cookie} from './Cookie'\r\n\r\nexport class CookieStorage implements IStorage {\r\n  public hasOwnProperty(key) {\r\n    return <boolean>Cookie.get(key)\r\n  }\r\n\r\n  public getItem(key) {\r\n    return Cookie.get(key)\r\n  }\r\n\r\n  public setItem(key, value, config) {\r\n    Cookie.set(key, value, config)\r\n  }\r\n\r\n  public removeItem(key) {\r\n    Cookie.remove(key)\r\n  }\r\n\r\n  public clear() {\r\n    Object.keys(Cookie.getAll())\r\n      .forEach(key => Cookie.remove(key))\r\n  }\r\n\r\n  public key(index) {\r\n    var cookies = Object.keys(Cookie.getAll())\r\n\r\n    return cookies[index]\r\n  }\r\n\r\n  public get length() {\r\n    return Object.keys(Cookie.getAll()).length\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/CookieStorage.ts","import {IStorage} from './IStorage'\r\n\r\nconst _cache = new Map()\r\n\r\nconst getKeys = () => Array.from(_cache.keys())\r\n\r\nexport class MemoryStorage implements IStorage {\r\n  public hasOwnProperty(key) {\r\n    return _cache.has(key)\r\n  }\r\n\r\n  public getItem(key) {\r\n    return _cache.get(key)\r\n  }\r\n\r\n  public setItem(key, value, config) {\r\n    _cache.set(key, value)\r\n  }\r\n\r\n  public removeItem(key) {\r\n    _cache.delete(key)\r\n  }\r\n\r\n  public clear() {\r\n    _cache.clear()\r\n  }\r\n\r\n  public key(index) {\r\n    return getKeys()[index]\r\n  }\r\n\r\n  public get length() {\r\n    return getKeys().length\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/MemoryStorage.ts","import {Locker, LockerConfig, LOCKER_DEFAULT_CONFIG_PROVIDER} from './Locker'\r\nimport {LockerModule} from './Locker.module'\r\n\r\nexport * from './Driver'\r\nexport * from './PolyfillDriver'\r\nexport * from './IStorage'\r\nexport * from './Locker.module'\r\nexport * from './Locker'\r\nexport * from './DriverTypes'\r\n\r\n// angular-cli\r\nexport default {\r\n  ngModule: LockerModule,\r\n  providers: [LockerConfig, Locker]\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}